/**
    날짜 : 2025/07/23
    이름 : 김철학
    내용 : SQL 연습문제4

*/

-- 실습 1
Alter session set "_ORACLE_SCRIPT"=true;
create user library identified by 1234;
grant connect, resource, unlimited tablespace to library;

-- 실습 2
DROP TABLE MEMBER;
create table Member (
    MEMBER_ID   NUMBER(4) PRIMARY KEY,
    NAME        VARCHAR2(40) NOT NULL,
    ADDRESS     VARCHAR2(100),
    HP          CHAR(13),
    JOIN_DATE   DATE  NOT NULL
);
create table Book (
    BOOK_ID     NUMBER(5) PRIMARY KEY,
    TITLE       VARCHAR2(50) NOT NULL,
    AUTHOR      VARCHAR2(40) NOT NULL,
    PUBLISHER   VARCHAR2(40) NOT NULL,
    AVAILABLE   CHAR(1),
    REG_DATE    DATE NOT NULL
);
create table Loan (
    LOAN_ID     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    MEMBER_ID   NUMBER(4) NOT NULL,
    BOOK_ID     NUMBER(5) NOT NULL,
    LOAN_DATE   DATE,
    RETURN_DATE DATE,
    ACTUAL_DATE DATE,
    FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER (MEMBER_ID),
    FOREIGN KEY (BOOK_ID) REFERENCES BOOK (BOOK_ID)
);

-- 실습 3
INSERT INTO Member (member_id, name, address, hp, join_date) VALUES (1001, '김유신', '서울특별시 강남구 역삼동', '010-1234-1001', TO_DATE('2024-01-10 09:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Member (member_id, name, address, hp, join_date) VALUES (1002, '김춘추', '대전광역시 유성구 장대동', '010-1234-1002', TO_DATE('2024-02-14 14:30:45', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Member (member_id, name, address, hp, join_date) VALUES (1003, '장보고', '대구광역시 수성구 반월동', '010-1234-1003', TO_DATE('2024-03-01 11:05:20', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Member (member_id, name, address, hp, join_date) VALUES (1004, '강감찬', '부산광역시 금정구 부곡동', '010-1234-1004', TO_DATE('2024-03-22 16:40:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Member (member_id, name, address, hp, join_date) VALUES (1005, '이순신', '광주광역시 광산구 우산동', '010-1234-1005', TO_DATE('2024-04-10 08:15:10', 'YYYY-MM-DD HH24:MI:SS'));

INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10001, '태백산맥', '조정래', '문학수첩', 'Y', TO_DATE('2014-01-10 09:15:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10002, '데미안', '헤르만 헤세', '민음사', 'N', TO_DATE('2014-02-14 14:30:45', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10003, '토지', '박경리', '문학사상사', 'Y', TO_DATE('2014-03-01 11:05:20', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10004, '명품 자바 프로그래밍', '제임스 고슬링', '한빛출판사', 'Y', TO_DATE('2014-03-22 16:40:00', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10005, '로미오와 줄리엣', '세익스피어', '열린책들', 'N', TO_DATE('2014-04-10 08:50:10', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10006, '삼국지', '나관중', '민음사', 'Y', TO_DATE('2014-04-05 09:12:02', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10007, '칼의 노래', '김훈', '문학동네', 'Y', TO_DATE('2014-06-10 12:53:17', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10008, '데이터베이스', '래리 엘리스', '한빛출판사', 'N', TO_DATE('2014-05-23 10:13:09', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10009, 'Linux 운영체제', '리누스 토발즈', '한빛출판사', 'Y', TO_DATE('2014-03-11 11:23:43', 'YYYY-MM-DD HH24:MI:SS'));
INSERT INTO Book (book_id, title, author, publisher, available, reg_date) VALUES (10010, '어린 왕자', '생텍쥐베리', '열린책들', 'Y', TO_DATE('2014-05-13 15:27:21', 'YYYY-MM-DD HH24:MI:SS'));

INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1001, 10002, '2024-03-01 10:02:31', '2024-03-15 10:02:31', '2024-03-13 09:44:19');
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1002, 10004, '2024-03-05 15:10:02', '2024-03-19 15:10:02', '2024-03-12 17:12:30');
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1003, 10008, '2024-04-01 11:01:12', '2024-04-15 11:01:12', NULL);
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1002, 10001, '2024-04-10 14:32:01', '2024-04-24 14:32:01', '2024-04-22 13:56:32');
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1005, 10004, '2024-04-15 16:24:21', '2024-04-29 16:24:21', NULL);
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1004, 10006, '2024-05-01 09:12:09', '2024-05-15 09:12:09', '2024-05-14 09:21:27');
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1001, 10007, '2024-05-03 13:51:07', '2024-05-17 13:51:07', '2024-05-16 14:05:10');
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1003, 10009, '2024-06-01 11:15:43', '2024-06-15 11:15:43', NULL);
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1004, 10004, '2024-06-02 12:30:52', '2024-06-16 12:30:52', NULL);
INSERT INTO Loan (member_id, book_id, loan_date, return_date, actual_date) VALUES (1002, 10008, '2024-06-05 10:06:17', '2024-06-19 10:06:17', NULL);
-- 실습 4
-- 실습 5
-- 실습 6
-- 실습 7
-- 실습 8
-- 실습 9
-- 실습 10
-- 실습 11
-- 실습 12
-- 실습 13
-- 실습 14
-- 실습 15
-- 실습 16
-- 실습 17
-- 실습 18
-- 실습 19
-- 실습 20
-- 실습 21
-- 실습 22
-- 실습 23
-- 실습 24
-- 실습 25
-- 실습 26
-- 실습 27
-- 실습 28
-- 실습 29
-- 실습 30
-- 실습 31
-- 실습 32
-- 실습 33
-- 실습 34
-- 실습 35
-- 실습 36
-- 실습 37
-- 실습 38
-- 실습 39
-- 실습 40
-- 실습 41
-- 실습 42
-- 실습 43
-- 실습 44
-- 실습 45
-- 실습 46
-- 실습 47
-- 실습 48
-- 실습 49
-- 실습 50